---
sidebar_position: 6
description: How to manage tokens records.
---

# Tokens Records

Tokens records may be added to a closed Collection LOC in order to provide some update
on the subject of the LOC (e.g. annual revenues generated by the loans of a tokenized
building).

A tokens record has attached files. The files are stored in Logion's private IPFS network
ensuring their availability over time.

As for collection items, there are 2 possibilities when attaching files:
- immediate upload of the files on creation or
- creation followed by an explicit upload later on.

See the examples [below](#examples).

## State

:::note
A [closed Collection LOC](loc.md#collection-loc) is required.
:::

## Examples

```typescript title="Add record and provide file content"
const recordId = Hash.of("record-id");
const recordDescription = "Some tokens record";
const file = HashOrContent.fromContent(
    new NodeFile("integration/test.txt", "report.txt", MimeType.from("text/plain"))
);
closedLoc = await closedLoc.addTokensRecord({
    payload: {
        recordId,
        description: recordDescription,
        files: [ file ],
    },
    signer,
});
```

```typescript title="Add record and provide description only"
const recordId = Hash.of("record-id");
const recordDescription = "Some tokens record";
const file = HashOrContent.fromContentFinalized(
    new NodeFile("integration/test.txt", "report.txt", MimeType.from("text/plain"))
);
closedLoc = await closedLoc.addTokensRecord({
    payload: {
        recordId,
        description: recordDescription,
        files: [
            HashOrContent.fromDescription({
                name: file.name,
                hash: file.contentHash,
                size: file.size,
                mimeType: file.mimeType,
            }),
        ],
    },
    signer,
});
```

```typescript title="Upload file for an existing record"
closedLoc = await closedLoc.uploadTokensRecordFile({
    recordId,
    file,
});
```

When adding a Tokens Record, the submitter may decide to pay all fees (not only inclusion fees) instead of the requester.
To do so, set `chargeSubmitter` flag to true.

```typescript title="Add record and charge submitter for all fees"
...
closedLoc = await closedLoc.addTokensRecord({
    payload: {
        recordId,
        description: recordDescription,
        files: [ file ],
        chargeSubmitter: true,
    },
    signer,
});
```
